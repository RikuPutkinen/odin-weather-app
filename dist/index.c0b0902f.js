const searchBar=document.getElementById("search"),searchButton=document.getElementById("search-button"),temperatureUnitSelector=document.getElementById("temperature-unit-selector"),locationNameElement=document.getElementById("location-name"),iconContainer=document.getElementById("icon-container"),iconDescriptionElement=document.getElementById("icon-description"),temperatureNumberElement=document.getElementById("temperature-number");let weatherData;async function getWeatherData(e){try{console.log("Getting data...");const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=6a17fb59a0685a9b4fc365f9e8552890`),n=await t.json();return console.log("Received data"),n}catch(e){console.error(e)}}function renderWeatherData(){locationNameElement.innerText=weatherData.name,renderWeatherIcon(),iconDescriptionElement.innerText=weatherData.weather[0].description,renderTemperature()}function renderWeatherIcon(){for(;iconContainer.firstChild;)iconContainer.removeChild(iconContainer.firstChild);const e=weatherData.weather[0].icon;console.log(e);const t=`http://openweathermap.org/img/wn/${e}@2x.png`,n=new Image;n.src=t,n.alt="Weather icon",iconContainer.appendChild(n)}function renderTemperature(){const e=temperatureUnitSelector.value||"c",t=weatherData.main.temp;let n;n="c"==e?Math.round(t-273.15):Math.round(1.8*(t-273.15)+32);const a=new Intl.NumberFormat("en-US",{style:"unit",unit:"c"===e?"celsius":"fahrenheit"});temperatureNumberElement.innerText=a.format(n)}temperatureUnitSelector.addEventListener("change",(e=>{weatherData&&renderTemperature()})),searchButton.addEventListener("click",(async e=>{if(!searchBar.value)return;const t=searchBar.value;weatherData=await getWeatherData(t),console.log(weatherData),renderWeatherData()}));
//# sourceMappingURL=index.c0b0902f.js.map
