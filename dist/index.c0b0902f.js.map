{"mappings":"AAAA,MAAMA,UAAYC,SAASC,eAAe,UACpCC,aAAeF,SAASC,eAAe,iBACvCE,wBAA0BH,SAASC,eAAe,6BAClDG,oBAAsBJ,SAASC,eAAe,iBAC9CI,cAAgBL,SAASC,eAAe,kBACxCK,uBAAyBN,SAASC,eAAe,oBACjDM,yBAA2BP,SAASC,eAAe,sBAEzD,IAAIO,YAgBJC,eAAeC,eAAeC,GAE5B,IACEC,QAAQC,IAAI,mBACZ,MAAMC,QAAiBC,MAAM,qDAAqDJ,4CAC5EH,QAAoBM,EAASE,OAEnC,OADAJ,QAAQC,IAAI,iBACLL,CAGT,CAFE,MAAMS,GACNL,QAAQM,MAAMD,EAChB,CACF,CAEA,SAASE,oBACPf,oBAAoBgB,UAAYZ,YAAYa,KAC5CC,oBACAhB,uBAAuBc,UAAYZ,YAAYe,QAAQ,GAAGC,YAC1DC,mBACF,CAEA,SAASH,oBACP,KAAOjB,cAAcqB,YACnBrB,cAAcsB,YAAYtB,cAAcqB,YAG1C,MAAME,EAASpB,YAAYe,QAAQ,GAAGM,KACtCjB,QAAQC,IAAIe,GACZ,MAAME,EAAU,oCAAoCF,WAE9CG,EAAU,IAAIC,MACpBD,EAAQE,IAAMH,EACdC,EAAQG,IAAM,eAEd7B,cAAc8B,YAAYJ,EAC5B,CAEA,SAASN,oBACP,MAAMW,EAAkBjC,wBAAwBkC,OAAS,IACnDC,EAAQ9B,YAAY+B,KAAKC,KAC/B,IAAIA,EAEFA,EADqB,KAAnBJ,EACKK,KAAKC,MAAMJ,EAAQ,QAEnBG,KAAKC,MAAM,KAASJ,EAAQ,QAAU,IAG/C,MAAMK,EAAa,IAAIC,KAAKC,aAAa,QAAS,CAChDC,MAAO,OACPC,KAA0B,MAApBX,EAA0B,UAAY,eAG9C7B,yBAAyBa,UAAYuB,EAAWK,OAAOR,EACzD,CAlEArC,wBAAwB8C,iBAAiB,UAAWC,IAC7C1C,aACLiB,mBAAA,IAGFvB,aAAa+C,iBAAiB,SAASxC,MAAOyC,IAC5C,IAAKnD,UAAUsC,MAAO,OACtB,MAAM1B,EAAeZ,UAAUsC,MAC/B7B,kBAAoBE,eAAeC,GACnCC,QAAQC,IAAIL,aAEZW,mBAAA","sources":["src/main.js"],"sourcesContent":["const searchBar = document.getElementById('search');\nconst searchButton = document.getElementById('search-button');\nconst temperatureUnitSelector = document.getElementById(\"temperature-unit-selector\");\nconst locationNameElement = document.getElementById(\"location-name\");\nconst iconContainer = document.getElementById(\"icon-container\");\nconst iconDescriptionElement = document.getElementById(\"icon-description\");\nconst temperatureNumberElement = document.getElementById('temperature-number');\n\nlet weatherData;\n\ntemperatureUnitSelector.addEventListener('change', (e) => {\n  if (!weatherData) return;\n  renderTemperature();\n});\n\nsearchButton.addEventListener('click', async (e) => {\n  if (!searchBar.value) return;\n  const locationName = searchBar.value;\n  weatherData = await getWeatherData(locationName);\n  console.log(weatherData);\n\n  renderWeatherData()\n})\n\nasync function getWeatherData(locationName) {\n  const API_KEY = \"6a17fb59a0685a9b4fc365f9e8552890\";\n  try{\n    console.log(\"Getting data...\");\n    const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${locationName}&appid=${API_KEY}`)\n    const weatherData = await response.json();\n    console.log(\"Received data\")\n    return weatherData;\n  } catch(err) {\n    console.error(err);\n  }\n}\n\nfunction renderWeatherData() {\n  locationNameElement.innerText = weatherData.name;\n  renderWeatherIcon();\n  iconDescriptionElement.innerText = weatherData.weather[0].description;\n  renderTemperature()\n}\n\nfunction renderWeatherIcon() {\n  while (iconContainer.firstChild) {\n    iconContainer.removeChild(iconContainer.firstChild);\n  }\n\n  const iconId = weatherData.weather[0].icon;\n  console.log(iconId);\n  const iconUrl = `http://openweathermap.org/img/wn/${iconId}@2x.png`\n\n  const imgElem = new Image();\n  imgElem.src = iconUrl;\n  imgElem.alt = \"Weather icon\"\n\n  iconContainer.appendChild(imgElem);\n}\n\nfunction renderTemperature() {\n  const temperatureUnit = temperatureUnitSelector.value || 'c';\n  const tempK = weatherData.main.temp;\n  let temp;\n  if (temperatureUnit == 'c') {\n    temp = Math.round(tempK - 273.15);\n  } else {\n    temp = Math.round(9 / 5 * (tempK - 273.15) + 32);\n  }\n  \n  const tempFormat = new Intl.NumberFormat('en-US', {\n    style: 'unit',\n    unit: temperatureUnit === 'c' ? 'celsius' : 'fahrenheit'\n  })\n\n  temperatureNumberElement.innerText = tempFormat.format(temp);\n}\n\n"],"names":["searchBar","document","getElementById","searchButton","temperatureUnitSelector","locationNameElement","iconContainer","iconDescriptionElement","temperatureNumberElement","weatherData","async","getWeatherData","locationName","console","log","response","fetch","json","err","error","renderWeatherData","innerText","name","renderWeatherIcon","weather","description","renderTemperature","firstChild","removeChild","iconId","icon","iconUrl","imgElem","Image","src","alt","appendChild","temperatureUnit","value","tempK","main","temp","Math","round","tempFormat","Intl","NumberFormat","style","unit","format","addEventListener","e"],"version":3,"file":"index.c0b0902f.js.map"}